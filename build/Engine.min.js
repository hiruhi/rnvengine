Elm.Native.Gamepad={};
Elm.Native.Gamepad.make=function(a){function b(a,b,c){for(var d=a.kids,e=d.length;e--;)d[e].recv(b,c,a.id)}function d(){k||e();for(j in l)for(var b=l[j],c=0;c<b.buttons.length;c++){var g=b.buttons[c],p=1==g;"object"==typeof g?p=g.pressed:("undefined"==typeof b.prevButtonStates&&(b.prevButtonStates={}),"undefined"==typeof b.prevButtonStates[c]&&(b.prevButtonStates[c]={}),g=b.prevButtonStates[c]);p&&!g.previous?a.notify(f.id,c):g.previous&&!p&&a.notify(h.id,c);g.previous=p}n(d)}function e(){for(var a=
navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():[],b=0;b<a.length;b++)if(a[b])if(a[b].index in l)l[a[b].index]=a[b];else{var c=a[b];l[c.index]=c;n(d)}}a.Native=a.Native||{};a.Native.Gamepad=a.Native.Gamepad||{};if(a.Native.Gamepad.values)return a.Native.Gamepad.values;var c=Elm.Signal.make(a),g=Elm.Native.List.make(a),s=Elm.Native.Utils.make(a),f=c.constant(0),h=c.constant(0),k="GamepadEvent"in window,l={},n=window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.requestAnimationFrame;window.addEventListener("gamepadconnected",function(a){a=a.gamepad;l[a.index]=a;n(d)});window.addEventListener("gamepaddisconnected",function(a){a=a.gamepad;var b=document.getElementById("controller"+a.index);document.body.removeChild(b);delete l[a.index]});k||setInterval(e,500);var p=c.dropRepeats(new function(a,c){var d=[a,c];this.id=s.guid();this.value=g.Nil;this.kids=[];var e=d.length,f=0,k=!1;this.recv=function(d,l,h){++f;l&&(h===
a.id&&!g.member(a.value)(this.value)&&(k=!0,this.value=g.Cons(a.value,this.value)),h===c.id&&(k=!0,this.value=g.filter(function(a){return a!==c.value})(this.value)));f==e&&(b(this,d,k),k=!1,f=0)};for(var l=e;l--;)d[l].kids.push(this)}(f,h));return a.Native.Gamepad.values={isDown:function(a){a=g.member(a);a=A2(c.lift,a,p);p.defaultNumberOfKids+=1;a.defaultNumberOfKids=1;a=c.dropRepeats(a);a.defaultNumberOfKids=0;return a},buttonsDown:p,lastPressed:f}};Elm.Engine=Elm.Engine||{};
Elm.Engine.make=function(a){a.Engine=a.Engine||{};if(a.Engine.values)return a.Engine.values;var b=Elm.Native,d=b.Utils.make(a),e=b.List.make(a);b.Array.make(a);var c=b.Error.make(a),g=Elm.Basics.make(a),s=Elm.Color.make(a);Elm.Debug.make(a);var f=Elm.Dict.make(a),h=h||{};h.Background=Elm.Engine.Background.make(a);h=h||{};h.Config=Elm.Engine.Config.make(a);h=h||{};h.FadeOut=Elm.Engine.FadeOut.make(a);h=h||{};h.VisualObjects=Elm.Engine.VisualObjects.make(a);var k=Elm.Gamepad.make(a),l=l||{};l.Collage=
Elm.Graphics.Collage.make(a);l=l||{};l.Element=Elm.Graphics.Element.make(a);var n=n||{};n.Keys=Elm.Keyboard.Keys.make(a);var p=Elm.List.make(a);Elm.Maybe.make(a);var t=Elm.Mouse.make(a),m=m||{};m.Json=Elm.Native.Json.make(a);m=m||{};m.Ports=Elm.Native.Ports.make(a);var b=Elm.Signal.make(a),q=Elm.String.make(a);Elm.Text.make(a);var r=Elm.Time.make(a);m.Ports.portOut("jumpRequest",m.Ports.outgoingSignal(function(a){return a}),A3(b.keepIf,g.id,!1,k.face2button));var v=F3(function(a,b,c){var d=g.toFloat(a.height),
f=g.toFloat(a.width);b=l.Collage.alpha(b)(l.Collage.filled(s.black)(A2(l.Collage.rect,f,d)));return A2(l.Collage.collage,a.width,a.height)(e.append(c,e.fromArray([b])))}),x=function(a){return f.values(a)},B=F2(function(a,b){var d;a:{switch(A2(f.get,a.url,b).ctor){case "Just":d=b;break a;case "Nothing":d=A3(f.insert,a.url,l.Collage.form(A4(l.Collage.FImage,a.width,a.height,{ctor:"_Tuple2",_0:0,_1:0},a.url)),b);break a}c.Case("Engine","between lines 95 and 97");d=void 0}return d}),y=F2(function(a,b){return A3(p.foldr,
F2(function(a,R){return d.eq(a.url,"")?R:A2(B,a,R)}),b,a)}),w=function(a){a:{var b=a.scriptsLeft;switch(b.ctor){case "::":a=d.replace([["script",b._0],["scriptsLeft",b._1],["goForward",!0],["clickCount",0]],a);break a;case "[]":a=d.replace([["script",""],["goForward",!1],["clickCount",0]],a);break a}c.Case("Engine","between lines 70 and 72");a=void 0}return a},A=function(a){a:{switch(a.ctor){case "_Tuple2":a=a._1||0>d.cmp(p.length(a._0),2)?a._0:e.append(a._0,p.tail(p.reverse(p.tail(a._0))));break a}c.Case("Engine",
"on line 65, column 19 to 92");a=void 0}return a},z={_:{},clickCount:0,directface1:!1,goForward:!1,script:"",scriptsLeft:e.fromArray([])},C={ctor:"Clock"},r=A2(b._op["<~"],g.always(C),r.fps(h.Config.fpsNum)),S=F9(function(a,b,c,d,e,g,f,k,l){return{_:{},assets:b,countUpdator:k,counter:f,easer:c,height:e,redraw:g,stopper:l,visibleObjects:a,width:d}}),M=F4(function(a,b,c,d){return{_:{},clickCount:d,goForward:c,script:a,scriptsLeft:b}}),N=function(a){return{ctor:"FaceOneDirect",_0:a}},H=function(a){return{ctor:"ProceedRequest",
_0:a}},F=g.always(H(!0)),I=function(a){return{ctor:"FaceOneButton",_0:a}},O=function(a){return{ctor:"PressEnter",_0:a}},J=function(a){return{ctor:"ScriptChange",_0:a}},P=F2(function(a,b){return function(){switch(a.ctor){case "FaceOneButton":return a._0?b.directface1?w(b):0<d.cmp(b.clickCount+1,g.sqrt(q.length(b.script)))?w(b):d.replace([["clickCount",b.clickCount+1],["goForward",!1]],b):d.replace([["goForward",!1]],b);case "FaceOneDirect":return d.replace([["directface1",a._0],["goForward",!1]],b);
case "PressEnter":return a._0?w(b):d.replace([["goForward",!1]],b);case "ProceedRequest":return a._0?w(b):d.replace([["goForward",!1]],b);case "ScriptChange":return w(d.replace([["scriptsLeft",a._0]],b))}c.Case("Engine","between lines 75 and 84")}()}),T=F2(function(a,b){return{_:{},imageInfo:b,name:a}}),G=m.Ports.portIn("loading",m.Ports.incomingSignal(function(a){return"boolean"===typeof a?a:c.raise("invalid input, expecting JSBoolean but got "+a)})),D=m.Ports.portIn("canvasSize",m.Ports.incomingSignal(function(a){return"object"===
typeof a&&"width"in a&&"height"in a?{_:{},width:"number"===typeof a.width?a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["width","height"] but got '+a)})),E=m.Ports.portIn("preloadImages",m.Ports.incomingSignal(function(a){return d.isJSArray(a)?e.fromArray(a.map(function(a){return"object"===typeof a&&"url"in a&&"width"in a&&"height"in
a?{_:{},url:"string"===typeof a.url||"object"===typeof a.url&&a.url instanceof q?a.url:c.raise("invalid input, expecting JSString but got "+a.url),width:"number"===typeof a.width?a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["url","width","height"] but got '+a)})):c.raise("invalid input, expecting JSArray but got "+a)})),E=A3(b.foldp,
y,f.empty,E),Q=A2(b._op["<~"],x,E),K=m.Ports.portIn("clearCanvas",m.Ports.incomingSignal(function(a){return"object"===typeof a&&"width"in a&&"height"in a?{_:{},width:"number"===typeof a.width?a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["width","height"] but got '+a)})),L=m.Ports.portIn("cycledClickAnim",m.Ports.incomingSignal(function(a){return d.isJSArray(a)?
{ctor:"_Tuple2",_0:d.isJSArray(a[0])?e.fromArray(a[0].map(function(a){return"object"===typeof a&&"url"in a&&"width"in a&&"height"in a?{_:{},url:"string"===typeof a.url||"object"===typeof a.url&&a.url instanceof q?a.url:c.raise("invalid input, expecting JSString but got "+a.url),width:"number"===typeof a.width?a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["url","width","height"] but got '+
a)})):c.raise("invalid input, expecting JSArray but got "+a[0]),_1:"boolean"===typeof a[1]?a[1]:c.raise("invalid input, expecting JSBoolean but got "+a[1])}:c.raise("invalid input, expecting JSArray but got "+a)})),L=A2(b._op["<~"],A,L),U=m.Ports.portIn("proceedRequest",m.Ports.incomingSignal(function(a){return"boolean"===typeof a?a:c.raise("invalid input, expecting JSBoolean but got "+a)})),u=m.Ports.portIn("isModal",m.Ports.incomingSignal(function(a){return"boolean"===typeof a?a:c.raise("invalid input, expecting JSBoolean but got "+
a)})),n=A2(b.dropWhen,G,H(!1))(b.merges(e.fromArray([A2(b.dropWhen,u,H(!1))(A2(b._op["<~"],F,t.clicks)),A2(b.dropWhen,u,O(!1))(A2(b._op["<~"],O,A3(b.keepIf,g.id,!1,n.Keys.isKeyDown(n.Keys.enter)))),A2(b.dropWhen,u,I(!1))(A2(b._op["<~"],I,A3(b.keepIf,g.id,!1,k.face1button)))]))),t=m.Ports.portIn("fadeOut",m.Ports.incomingSignal(function(a){return"number"===typeof a?a:c.raise("invalid input, expecting JSNumber but got "+a)})),G=m.Ports.portIn("changePict",m.Ports.incomingSignal(function(a){return"object"===
typeof a&&"name"in a&&"imageInfo"in a?{_:{},name:"string"===typeof a.name||"object"===typeof a.name&&a.name instanceof q?a.name:c.raise("invalid input, expecting JSString but got "+a.name),imageInfo:d.isJSArray(a.imageInfo)?e.fromArray(a.imageInfo.map(function(a){return"object"===typeof a&&"url"in a&&"width"in a&&"height"in a?{_:{},url:"string"===typeof a.url||"object"===typeof a.url&&a.url instanceof q?a.url:c.raise("invalid input, expecting JSString but got "+a.url),width:"number"===typeof a.width?
a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["url","width","height"] but got '+a)})):c.raise("invalid input, expecting JSArray but got "+a.imageInfo)}:c.raise('invalid input, expecting JSObject ["name","imageInfo"] but got '+a)})),u=m.Ports.portIn("showPicts",m.Ports.incomingSignal(function(a){return d.isJSArray(a)?e.fromArray(a.map(function(a){return"object"===
typeof a&&"name"in a&&"imageInfo"in a?{_:{},name:"string"===typeof a.name||"object"===typeof a.name&&a.name instanceof q?a.name:c.raise("invalid input, expecting JSString but got "+a.name),imageInfo:d.isJSArray(a.imageInfo)?e.fromArray(a.imageInfo.map(function(a){return"object"===typeof a&&"url"in a&&"width"in a&&"height"in a?{_:{},url:"string"===typeof a.url||"object"===typeof a.url&&a.url instanceof q?a.url:c.raise("invalid input, expecting JSString but got "+a.url),width:"number"===typeof a.width?
a.width:c.raise("invalid input, expecting JSNumber but got "+a.width),height:"number"===typeof a.height?a.height:c.raise("invalid input, expecting JSNumber but got "+a.height)}:c.raise('invalid input, expecting JSObject ["url","width","height"] but got '+a)})):c.raise("invalid input, expecting JSArray but got "+a.imageInfo)}:c.raise('invalid input, expecting JSObject ["name","imageInfo"] but got '+a)})):c.raise("invalid input, expecting JSArray but got "+a)})),h=A2(b._op["~"],A2(b._op["~"],A2(b._op["<~"],
v,D),A3(h.FadeOut.fadingEffect,t,K,r)),A2(b._op["~"],A2(b._op["<~"],F2(function(a,b){return{ctor:"::",_0:a,_1:b}}),A5(h.Background.backgroundForm,L,K,k.face1button,r,E)),A5(h.VisualObjects.visualObjectsLayer,u,G,K,D,E))),k=m.Ports.portIn("newScript",m.Ports.incomingSignal(function(a){return d.isJSArray(a)?e.fromArray(a.map(function(a){return"string"===typeof a||"object"===typeof a&&a instanceof q?a:c.raise("invalid input, expecting JSString but got "+a)})):c.raise("invalid input, expecting JSArray but got "+
a)})),D=m.Ports.portIn("shaking",m.Ports.incomingSignal(function(a){return"boolean"===typeof a?a:c.raise("invalid input, expecting JSBoolean but got "+a)}));m.Ports.portOut("shakeRequest",m.Ports.outgoingSignal(function(a){return a}),A2(b.keepWhen,D,!1)(A2(b._op["<~"],g.always(!0),n)));D=m.Ports.portIn("face1direct",m.Ports.incomingSignal(function(a){return"boolean"===typeof a?a:c.raise("invalid input, expecting JSBoolean but got "+a)}));m.Ports.portOut("interpretOneStep",m.Ports.outgoingSignal(function(a){return{script:a.script,
goForward:a.goForward}}),A2(b._op["<~"],function(a){return{_:{},goForward:a.goForward,script:a.script}},A2(b.foldp,P,z)(b.merges(e.fromArray([n,A2(b._op["<~"],J,k),A2(b._op["<~"],F,U),A2(b._op["<~"],N,D)])))));a.Engine.values={_op:{},initialInterpreterState:z,clock:r,cycling:A,clickAnim:L,interpretForward:w,interpret:P,makeProceedRequest:F,userAccess:n,checkAndLoad:B,load:y,changeDict:E,createHiddenScreen:x,hiddenScreen:Q,render:v,main:h,ScriptChange:J,PressEnter:O,FaceOneButton:I,ProceedRequest:H,
FaceOneDirect:N,ShowPicts:function(a){return{ctor:"ShowPicts",_0:a}},ChangePict:function(a){return{ctor:"ChangePict",_0:a}},FadeOut:function(a){return{ctor:"FadeOut",_0:a}},WindowSize:function(a){return{ctor:"WindowSize",_0:a}},PreloadImages:function(a){return{ctor:"PreloadImages",_0:a}},ClearCanvas:function(a){return{ctor:"ClearCanvas",_0:a}},FaceOneClicked:{ctor:"FaceOneClicked"},Clock:C,VisibleObject:T,InterpreterState:M,EffectState:S};return a.Engine.values};Elm.Engine=Elm.Engine||{};
Elm.Engine.FadeOut=Elm.Engine.FadeOut||{};
Elm.Engine.FadeOut.make=function(a){a.Engine=a.Engine||{};a.Engine.FadeOut=a.Engine.FadeOut||{};if(a.Engine.FadeOut.values)return a.Engine.FadeOut.values;var b=Elm.Native,d=b.Utils.make(a),e=b.List.make(a);b.Array.make(a);var c=b.Error.make(a),g=Elm.Basics.make(a);Elm.Color.make(a);var s=Elm.Easing.make(a),f=f||{};f.Config=Elm.Engine.Config.make(a);var h=h||{};h.Collage=Elm.Graphics.Collage.make(a);h=h||{};h.Element=Elm.Graphics.Element.make(a);Elm.List.make(a);Elm.Maybe.make(a);var k=k||{};k.Json=
Elm.Native.Json.make(a);k=k||{};k.Ports=Elm.Native.Ports.make(a);var l=Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);var n=function(a){return a.efun(g.toFloat(g.max(0)(a.count-1)))},p=function(a){return-1<d.cmp(a.count,0)},t={_:{},count:0,efun:g.always(0)},b=F2(function(a,b){return{_:{},count:a,efun:b}}),m={ctor:"ClearCanvas"},q={ctor:"Clock"},r=function(a){return{ctor:"Request",_0:a}},v=F2(function(a,b){return function(){switch(a.ctor){case "ClearCanvas":return t;case "Clock":return d.replace([["count",
A2(g.max,b.count-1,-1)]],b);case "Request":return{_:{},count:a._0*f.Config.fpsNum+1,efun:A5(s.ease,s.linear,s.number,1,0,g.toFloat(a._0*f.Config.fpsNum))}}c.Case("Engine.FadeOut","between lines 13 and 16")}()}),h=F3(function(a,b,c){return A2(l._op["<~"],n,A2(l.keepIf,p,t)(A2(l.foldp,v,t)(l.merges(e.fromArray([A2(l._op["<~"],r,a),A2(l._op["<~"],g.always(m),b),A2(l._op["<~"],g.always(q),c)])))))});a.Engine.FadeOut.values={_op:{},comp:v,initialState:t,isCounting:p,reflect:n,fadingEffect:h,Request:r,
Clock:q,ClearCanvas:m,State:b};return a.Engine.FadeOut.values};Elm.Easing=Elm.Easing||{};
Elm.Easing.make=function(a){a.Easing=a.Easing||{};if(a.Easing.values)return a.Easing.values;var b=Elm.Native,d=b.Utils.make(a),e=b.List.make(a);b.Array.make(a);var c=b.Error.make(a),g=Elm.Basics.make(a),s=Elm.Color.make(a),f=f||{};f.Collage=Elm.Graphics.Collage.make(a);f=f||{};f.Element=Elm.Graphics.Element.make(a);var h=Elm.List.make(a);Elm.Maybe.make(a);var k=k||{};k.Json=Elm.Native.Json.make(a);k=k||{};k.Ports=Elm.Native.Ports.make(a);Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);
var l=F2(function(a,b){return a(1-b)}),b=F2(function(a,b){return 0>d.cmp(b,0.5)?a(2*b):A2(l,a,2*(b-0.5))}),f=F2(function(a,b){return 1-a(1-b)}),k=F3(function(a,b,c){return 0>d.cmp(c,0.5)?a(2*c)/2:0.5+b(2*(c-0.5))/2}),n=function(a){a-=1;return 0-Math.pow(2,10*a)*g.sin((a-0.075)*2*g.pi/0.3)},p=f(n),t=A2(k,n,p),m=function(a){var b=a-2.65/2.75,c=a-2.25/2.75,e=a-1.5/2.75;return 0>d.cmp(a,1/2.75)?7.5625*a*a:0>d.cmp(a,2/2.75)?7.5625*e*e+0.75:0>d.cmp(a,2.5/2.75)?7.5625*c*c+0.9375:7.5625*b*b+0.984375},q=f(m),
r=A2(k,q,m),v=function(a){return a*a*(2.70158*a-1.70158)},x=f(v),B=A2(k,v,x),y=function(a){return g.sqrt(1-Math.pow(a-1,2))},w=f(y),A=A2(k,w,y),z=function(a){return Math.pow(2,10*(a-1))},C=f(z),S=A2(k,z,C),M=function(a){return g.sin(a*(g.pi/2))},N=f(M),H=A2(k,N,M),F=function(a){return Math.pow(a,5)},I=f(F),O=A2(k,F,I),J=function(a){return Math.pow(a,4)},P=f(J),T=A2(k,J,P),G=function(a){return Math.pow(a,3)},D=f(G),E=A2(k,G,D),Q=function(a){return Math.pow(a,2)},K=f(Q),L=A2(k,Q,K),U=g.id,u=F3(function(a,
b,c){return a+(b-a)*c}),R=F3(function(a,b,c){return{_:{},x:A3(u,a.x,b.x,c),y:A3(u,a.y,b.y,c)}}),V=F3(function(a,b,c){return{_:{},x:A3(u,a.x,b.x,c),y:A3(u,a.y,b.y,c),z:A3(u,a.z,b.z,c)}}),W=F3(function(a,b,c){return function(){var d=F3(function(a,b,c){return g.round(A3(u,g.toFloat(a),g.toFloat(b),c))}),e=s.toRgb(a),f=s.toRgb(b),k,l,h=e,C=f,e=h.red,f=h.green;k=h.blue;l=h.alpha;var h=e,m=f,n=k,z=l,e=C.red,f=C.green;k=C.blue;l=C.alpha;return A4(s.rgba,A3(d,h,e,c),A3(d,m,f,c),A3(d,n,k,c),A3(u,z,l,c))}()}),
X=F5(function(a,b,d,f,g){return function(){var k=function(a){return function(){switch(a.ctor){case "::":switch(a._0.ctor){case "_Tuple2":switch(a._1.ctor){case "[]":return a._0._1}}}return k(A3(h.zipWith,F2(function(a,b){var d;a:{switch(b.ctor){case "_Tuple2":b:{switch(a.ctor){case "_Tuple2":d={ctor:"_Tuple2",_0:A3(u,a._0,b._0,g),_1:A3(u,a._1,b._1,g)};break b}c.Case("Easing","on line 121, column 71 to 111");d=void 0}break a}c.Case("Easing","on line 121, column 71 to 111");d=void 0}return d}),a,h.tail(a)))}()};
return k(e.fromArray([{ctor:"_Tuple2",_0:0,_1:0},{ctor:"_Tuple2",_0:a,_1:b},{ctor:"_Tuple2",_0:d,_1:f},{ctor:"_Tuple2",_0:1,_1:1}]))}()}),Y=F6(function(a,b,c,d,e,f){return A3(b,c,d,a(A2(g.min,f/e,1)))});a.Easing.values={_op:{},ease:Y,number:u,point2d:R,point3d:V,color:W,linear:U,bezier:X,easeInQuad:Q,easeOutQuad:K,easeInOutQuad:L,easeInCubic:G,easeOutCubic:D,easeInOutCubic:E,easeInQuart:J,easeOutQuart:P,easeInOutQuart:T,easeInQuint:F,easeOutQuint:I,easeInOutQuint:O,easeInSine:N,easeOutSine:M,easeInOutSine:H,
easeInExpo:z,easeOutExpo:C,easeInOutExpo:S,easeInCirc:w,easeOutCirc:y,easeInOutCirc:A,easeInBack:v,easeOutBack:x,easeInOutBack:B,easeInBounce:q,easeOutBounce:m,easeInOutBounce:r,easeInElastic:n,easeOutElastic:p,easeInOutElastic:t,inOut:k,invert:f,flip:l,retour:b};return a.Easing.values};Elm.Engine=Elm.Engine||{};Elm.Engine.Background=Elm.Engine.Background||{};
Elm.Engine.Background.make=function(a){a.Engine=a.Engine||{};a.Engine.Background=a.Engine.Background||{};if(a.Engine.Background.values)return a.Engine.Background.values;var b=Elm.Native,d=b.Utils.make(a),e=b.List.make(a);b.Array.make(a);var c=b.Error.make(a),g=Elm.Basics.make(a);Elm.Color.make(a);var s=Elm.Dict.make(a),f=f||{};f.Config=Elm.Engine.Config.make(a);var h=h||{};h.Collage=Elm.Graphics.Collage.make(a);h=h||{};h.Element=Elm.Graphics.Element.make(a);var k=Elm.List.make(a);Elm.Maybe.make(a);
var l=l||{};l.Json=Elm.Native.Json.make(a);l=l||{};l.Ports=Elm.Native.Ports.make(a);var n=Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);var p=function(a){a:{switch(a.ctor){case "_Tuple2":a=1>d.cmp(0,a._0);break a}c.Case("Engine.Background","on line 34, column 22 to 28");a=void 0}return a},t=function(a){a:{switch(a.ctor){case "_Tuple2":var b=g.toFloat(k.length(a._1))/(0.5*f.Config.fpsNum),d=A2(g.max,a._0,0),b=g.mod(g.floor(g.toFloat(d)*b))(k.length(a._1));a=k.head(A2(k.drop,
b,a._1));a=A2(h.Collage.alpha,1,a);break a}c.Case("Engine.Background","between lines 28 and 32");a=void 0}return a},m=f.Config.fpsNum/2,q=F2(function(a,b){return A2(s.getOrFail,b.url,a)}),r={ctor:"Click"},v={ctor:"Clock"},x={ctor:"ClearCounter"},B=F2(function(a,b){return function(){switch(a.ctor){case "_Tuple2":return function(){switch(a._0.ctor){case "ClearCounter":return 0;case "Click":return 1>d.cmp(a._1,1)?b:b+m;case "Clock":return 1>d.cmp(a._1,1)?-1:g.max(-1)(b-1)}c.Case("Engine.Background",
"between lines 23 and 26")}()}c.Case("Engine.Background","between lines 23 and 26")}()}),y=function(a){return{ctor:"ClearCanvas",_0:a}},w=function(a){return{ctor:"NewImageSet",_0:a}},A=F2(function(a,b){var d;a:{switch(b.ctor){case "ClearCanvas":d=e.fromArray([h.Collage.toForm(h.Element.empty)]);break a;case "NewImageSet":d=A2(k.map,q(a),b._0);break a}c.Case("Engine.Background","between lines 18 and 20");d=void 0}return d}),b=F5(function(a,b,c,d,f){return function(){var l=A2(n._op["~"],A2(n._op["<~"],
A,f),n.merges(e.fromArray([A2(n._op["<~"],y,b),A2(n._op["<~"],w,a)]))),m=A2(n._op["<~"],k.length,l),s=n.merges(e.fromArray([A2(n._op["<~"],g.always(x),a),A2(n._op["<~"],g.always(x),b),A2(n._op["<~"],g.always(r),A3(n.keepIf,g.id,!1,c)),A2(n._op["<~"],g.always(v),d),A2(n._op["<~"],g.always(x),f)]));return A2(n._op["<~"],t,A2(n.keepIf,p,{ctor:"_Tuple2",_0:-1,_1:e.fromArray([h.Collage.toForm(h.Element.empty)])})(A2(n._op["~"],A2(n._op["<~"],F2(function(a,b){return{ctor:"_Tuple2",_0:a,_1:b}}),A2(n.foldp,
B,-1)(A2(n._op["~"],A2(n._op["<~"],F2(function(a,b){return{ctor:"_Tuple2",_0:a,_1:b}}),s),m))),l)))}()});a.Engine.Background.values={_op:{},imgToElement:q,halfFpsNum:m,images:A,counter:B,chooseForm:t,shouldRender:p,backgroundForm:b,NewImageSet:w,ClearCanvas:y,ClearCounter:x,Clock:v,Click:r};return a.Engine.Background.values};Elm.Engine=Elm.Engine||{};Elm.Engine.VisualObjects=Elm.Engine.VisualObjects||{};
Elm.Engine.VisualObjects.make=function(a){a.Engine=a.Engine||{};a.Engine.VisualObjects=a.Engine.VisualObjects||{};if(a.Engine.VisualObjects.values)return a.Engine.VisualObjects.values;var b=Elm.Native,d=b.Utils.make(a),e=b.List.make(a);b.Array.make(a);var c=b.Error.make(a),g=Elm.Basics.make(a),s=Elm.Bitwise.make(a);Elm.Color.make(a);var f=Elm.Dict.make(a),h=h||{};h.CanvasImage=Elm.Engine.CanvasImage.make(a);var k=k||{};k.Collage=Elm.Graphics.Collage.make(a);k=k||{};k.Element=Elm.Graphics.Element.make(a);
var l=Elm.List.make(a);Elm.Maybe.make(a);var n=n||{};n.Json=Elm.Native.Json.make(a);n=n||{};n.Ports=Elm.Native.Ports.make(a);var p=Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);var t=F4(function(a,b,c,d){return{ctor:"::",_0:A2(k.Collage.moveX,A2(f.getOrFail,b,a),c),_1:d}}),m=function(a){return A3(f.foldr,t(a.moves),e.fromArray([]),a.vo)},q=function(a){return 0.5*g.toFloat(a)},r=F2(function(a,b){return function(){var d=b.imageInfo;switch(d.ctor){case "::":return function(){var e=
d._0.height,g=q(d._0.width),h=l.map(function(b){return A2(f.getOrFail,b.url,a)})(b.imageInfo),h="::"===h.ctor?h:c.Case("Engine.VisualObjects","on line 25, column 54 to 109"),m=h._1;return{ctor:"::",_0:h._0,_1:l.map(function(a){a:{switch(a.ctor){case "_Tuple2":a=A2(k.Collage.move,{ctor:"_Tuple2",_0:q(a._0.width)-g,_1:q(e-a._0.height)},a._1);break a}c.Case("Engine.VisualObjects","on line 28, column 65 to 122");a=void 0}return a})(A2(l.zip,d._1,m))}}();case "[]":return e.fromArray([])}c.Case("Engine.VisualObjects",
"between lines 23 and 29")}()}),v={_:{},canvasSize:{_:{},height:0,width:0},dict:f.empty,moves:f.empty,vo:f.empty},b=F4(function(a,b,c,d){return{_:{},canvasSize:c,dict:d,moves:a,vo:b}}),x=function(a){return{ctor:"CanvasSize",_0:a}},B=function(a){return{ctor:"ChangeDict",_0:a}},y=function(a){return{ctor:"ClearCanvas",_0:a}},w=function(a){return{ctor:"ChangePict",_0:a}},A=function(a){return{ctor:"ShowPicts",_0:a}},z=F2(function(a,b){return function(){switch(a.ctor){case "CanvasSize":return d.replace([["canvasSize",
a._0]],b);case "ChangeDict":return d.replace([["dict",a._0]],b);case "ChangePict":return d.replace([["vo",A3(f.insert,a._0.name,k.Collage.group(A2(r,b.dict,a._0)),b.vo)]],b);case "ClearCanvas":return d.replace([["vo",f.empty]],b);case "ShowPicts":return function(){var c=A2(l.map,function(a){return a.name},a._0),e=g.toFloat(b.canvasSize.width)/g.toFloat(l.length(c)+1),h=A2(l.repeat,l.length(c)-1,e),e=l.map(function(a){return a-g.toFloat(A2(s.shiftRight,b.canvasSize.width,1))})(A3(l.scanl,F2(function(a,
b){return a+b}),e,h)),e=f.fromList(A2(l.zip,c,e));return d.replace([["moves",e],["vo",f.fromList(l.zip(c)(A2(l.map,function(a){return k.Collage.group(r(b.dict)(a))},a._0)))]],b)}()}c.Case("Engine.VisualObjects","between lines 33 and 43")}()}),h=F5(function(a,b,c,d,f){return A2(p._op["<~"],m,A2(p.foldp,z,v)(p.merges(e.fromArray([A2(p._op["<~"],A,a),A2(p._op["<~"],w,b),A2(p._op["<~"],y,c),A2(p._op["<~"],x,d),A2(p._op["<~"],B,f)]))))});a.Engine.VisualObjects.values={_op:{},initialState:v,halve:q,imgToElement:r,
makeVisualObjects:z,moveForms:t,makeLayer:m,visualObjectsLayer:h,ShowPicts:A,ChangePict:w,ClearCanvas:y,ChangeDict:B,CanvasSize:x,State:b};return a.Engine.VisualObjects.values};Elm.Engine=Elm.Engine||{};Elm.Engine.CanvasImage=Elm.Engine.CanvasImage||{};
Elm.Engine.CanvasImage.make=function(a){a.Engine=a.Engine||{};a.Engine.CanvasImage=a.Engine.CanvasImage||{};if(a.Engine.CanvasImage.values)return a.Engine.CanvasImage.values;var b=Elm.Native;b.Utils.make(a);b.List.make(a);b.Array.make(a);b.Error.make(a);Elm.Basics.make(a);Elm.Color.make(a);var d=d||{};d.Collage=Elm.Graphics.Collage.make(a);d=d||{};d.Element=Elm.Graphics.Element.make(a);Elm.List.make(a);Elm.Maybe.make(a);var e=e||{};e.Json=Elm.Native.Json.make(a);e=e||{};e.Ports=Elm.Native.Ports.make(a);
Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);b=F4(function(a,b,e,f){return d.Collage.form(A4(d.Collage.FImage,a,b,e,f))});a.Engine.CanvasImage.values={_op:{},canvasImage:b};return a.Engine.CanvasImage.values};Elm.Engine=Elm.Engine||{};Elm.Engine.Config=Elm.Engine.Config||{};
Elm.Engine.Config.make=function(a){a.Engine=a.Engine||{};a.Engine.Config=a.Engine.Config||{};if(a.Engine.Config.values)return a.Engine.Config.values;var b=Elm.Native;b.Utils.make(a);b.List.make(a);b.Array.make(a);b.Error.make(a);Elm.Basics.make(a);Elm.Color.make(a);var d=d||{};d.Collage=Elm.Graphics.Collage.make(a);d=d||{};d.Element=Elm.Graphics.Element.make(a);Elm.List.make(a);Elm.Maybe.make(a);var e=e||{};e.Json=Elm.Native.Json.make(a);e=e||{};e.Ports=Elm.Native.Ports.make(a);Elm.Signal.make(a);
Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);a.Engine.Config.values={_op:{},fpsNum:20};return a.Engine.Config.values};Elm.Gamepad=Elm.Gamepad||{};
Elm.Gamepad.make=function(a){a.Gamepad=a.Gamepad||{};if(a.Gamepad.values)return a.Gamepad.values;var b=Elm.Native;b.Utils.make(a);b.List.make(a);b.Array.make(a);b.Error.make(a);Elm.Basics.make(a);Elm.Color.make(a);var d=d||{};d.Collage=Elm.Graphics.Collage.make(a);d=d||{};d.Element=Elm.Graphics.Element.make(a);Elm.List.make(a);Elm.Maybe.make(a);var e=e||{};e.Gamepad=Elm.Native.Gamepad.make(a);e=e||{};e.Json=Elm.Native.Json.make(a);e=e||{};e.Ports=Elm.Native.Ports.make(a);Elm.Signal.make(a);Elm.String.make(a);
Elm.Text.make(a);Elm.Time.make(a);var b=e.Gamepad.lastPressed,d=e.Gamepad.buttonsDown,e=e.Gamepad.isDown,c=e(0),g=e(1);a.Gamepad.values={_op:{},isDown:e,face1button:c,face2button:g,buttonsDown:d,lastPressed:b};return a.Gamepad.values};Elm.Keyboard=Elm.Keyboard||{};Elm.Keyboard.Keys=Elm.Keyboard.Keys||{};
Elm.Keyboard.Keys.make=function(a){a.Keyboard=a.Keyboard||{};a.Keyboard.Keys=a.Keyboard.Keys||{};if(a.Keyboard.Keys.values)return a.Keyboard.Keys.values;var b=Elm.Native;b.Utils.make(a);b.List.make(a);b.Array.make(a);b.Error.make(a);Elm.Basics.make(a);Elm.Color.make(a);var d=d||{};d.Collage=Elm.Graphics.Collage.make(a);d=d||{};d.Element=Elm.Graphics.Element.make(a);var e=Elm.Keyboard.make(a);Elm.List.make(a);Elm.Maybe.make(a);var c=c||{};c.Json=Elm.Native.Json.make(a);c=c||{};c.Ports=Elm.Native.Ports.make(a);
Elm.Signal.make(a);Elm.String.make(a);Elm.Text.make(a);Elm.Time.make(a);var $super={_:{},keyCode:91,name:"Super"},b=F4(function(a,b,c,d){return A4(e.directions,a.keyCode,b.keyCode,c.keyCode,d.keyCode)}),d=F2(function(a,b){return{_:{},keyCode:a,name:b}});a.Keyboard.Keys.values={_op:{},directionKeys:b,isKeyDown:function(a){return e.isDown(a.keyCode)},a:{_:{},keyCode:65,name:"a"},b:{_:{},keyCode:66,name:"b"},c:{_:{},keyCode:67,name:"b"},d:{_:{},keyCode:68,name:"d"},e:{_:{},keyCode:69,name:"e"},f:{_:{},
keyCode:70,name:"f"},g:{_:{},keyCode:71,name:"g"},h:{_:{},keyCode:72,name:"h"},i:{_:{},keyCode:73,name:"i"},j:{_:{},keyCode:74,name:"j"},k:{_:{},keyCode:75,name:"k"},l:{_:{},keyCode:76,name:"l"},m:{_:{},keyCode:77,name:"m"},n:{_:{},keyCode:78,name:"n"},o:{_:{},keyCode:79,name:"o"},p:{_:{},keyCode:80,name:"p"},q:{_:{},keyCode:81,name:"q"},r:{_:{},keyCode:82,name:"r"},s:{_:{},keyCode:83,name:"s"},t:{_:{},keyCode:84,name:"t"},u:{_:{},keyCode:85,name:"u"},v:{_:{},keyCode:86,name:"v"},w:{_:{},keyCode:87,
name:"w"},x:{_:{},keyCode:88,name:"x"},y:{_:{},keyCode:89,name:"y"},z:{_:{},keyCode:90,name:"z"},ctrl:{_:{},keyCode:17,name:"Ctrl"},shift:{_:{},keyCode:16,name:"Shift"},tab:{_:{},keyCode:9,name:"Tab"},$super:$super,meta:{_:{},keyCode:91,name:"Meta"},windows:{_:{},keyCode:91,name:"Windows"},commandLeft:{_:{},keyCode:91,name:"Command left"},commandRight:{_:{},keyCode:93,name:"Command right"},space:{_:{},keyCode:32,name:"Space"},enter:{_:{},keyCode:13,name:"Enter"},arrowRight:{_:{},keyCode:37,name:"Right arrow"},
arrowLeft:{_:{},keyCode:39,name:"Left arrow"},arrowUp:{_:{},keyCode:38,name:"Up arrow"},arrowDown:{_:{},keyCode:40,name:"Down arrow"},backspace:{_:{},keyCode:8,name:"Backspace"},$delete:{_:{},keyCode:46,name:"Delete"},insert:{_:{},keyCode:45,name:"Insert"},end:{_:{},keyCode:35,name:"End"},home:{_:{},keyCode:36,name:"Home"},pageDown:{_:{},keyCode:34,name:"Page down"},pageUp:{_:{},keyCode:33,name:"Page up"},escape:{_:{},keyCode:27,name:"Escape"},f2:{_:{},keyCode:113,name:"F2"},f4:{_:{},keyCode:115,
name:"F4"},f8:{_:{},keyCode:119,name:"F8"},f9:{_:{},keyCode:120,name:"F9"},f10:{_:{},keyCode:121,name:"F10"},one:{_:{},keyCode:49,name:"1"},two:{_:{},keyCode:50,name:"2"},three:{_:{},keyCode:51,name:"3"},four:{_:{},keyCode:52,name:"4"},five:{_:{},keyCode:53,name:"5"},six:{_:{},keyCode:54,name:"6"},seven:{_:{},keyCode:55,name:"7"},eight:{_:{},keyCode:56,name:"8"},nine:{_:{},keyCode:57,name:"9"},zero:{_:{},keyCode:58,name:"0"},Key:d};return a.Keyboard.Keys.values};
